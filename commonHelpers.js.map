{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst formSearch = document.querySelector('.form');\nconst inputField = document.querySelector('input');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.gallery a', \n      {captionsData: \"alt\",\n       captionDelay: 250,\n       nav: true,\n       close: true,\n       enableKeyboard: true,\n       docClose: true,\n      });\n\nformSearch.addEventListener(\"submit\", searchImages);\n\nloader.style.display = 'none';\n\nfunction searchImages(event) {\n  event.preventDefault();\n\n  let name = inputField.value;\n\n  gallery.innerHTML = '';\n\n  showLoader();\n\n  if (name === '') {\n    closeLoader();\n\n    iziToast.error({\n      title: 'Error',\n      timeout: '2000',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      messageColor: '#FAFAFB',\n      backgroundColor: '#EF4040',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  let searchParams = new URLSearchParams({\n    key: '41835868-9a86cd0490c6a90cb9e6f50a0',\n    q: name,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true\n  });\n\n  let url = `https://pixabay.com/api/?${searchParams}`\n  console.log(url);\n\n  fetch(url)\n    .then(response => {\n      loader.style.display = 'none';\n      if (!response.ok) {\n        throw new Error('Request is not ok');\n      }\n\n      return response.json();\n    })\n    .then(images => {\n      if (images.hits.length === 0) {\n        closeLoader();\n\n        iziToast.error({\n          title: 'Error',\n          timeout: '2000',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#FAFAFB',\n          backgroundColor: '#EF4040',\n          position: 'topRight',\n        });\n        return;\n      }\n\n      gallery.innerHTML = addImages(images.hits);\n      const lightbox = new SimpleLightbox('.gallery a', \n      {captionsData: \"alt\",\n       captionDelay: 250,\n       nav: true,\n       close: true,\n       enableKeyboard: true,\n       docClose: true,\n      });\n      lightbox.refresh();\n    })\n    .catch(error =>\n      iziToast.error({\n        title: 'Error',\n        timeout: '2000',\n        message: error,\n        messageColor: '#FAFAFB',\n        backgroundColor: '#EF4040',\n        position: 'topRight',\n      })\n    );\n}\n\nfunction addImages(images) {\n  return images.reduce((html, hit) => html + `\n  <li class=\"gallery-list\">\n    <a class=\"gallery-link\" href=\"${hit.largeImageURL}\">\n      <img class =\"gallery-image\" src =${hit.webformatURL} alt =${hit.tags} />\n    </a>\n    <span class=\"gallery-wrapper\">\n      <span class=\"gallery-tit-wrap\">  \n        <span class=\"gallery-subtitle\"><b>Likes</b></span>\n        <span class=\"gallery-sub-title-number\">${hit.likes}</span>\n      </span>\n      <span class=\"gallery-tit-wrap\">  \n        <span class=\"gallery-subtitle\"><b>Views</b></span>\n        <span class=\"gallery-sub-title-number\">${hit.views}</span>\n      </span>\n      <span class=\"gallery-tit-wrap\">  \n        <span class=\"gallery-subtitle\"><b>Comments</b></span>\n        <span class=\"gallery-sub-title-number\">${hit.comments}</span>\n      </span>\n      <span class=\"gallery-tit-wrap\">  \n        <span class=\"gallery-subtitle\"><b>Downloads</b></span>\n        <span class=\"gallery-sub-title-number\">${hit.downloads}</span>\n      </span>\n    </span>\n </li> \n  `, \"\");\n}\n\nfunction showLoader() {\n  loader.style.display = 'block';\n}\nfunction closeLoader() {\n  loader.style.display = 'none';\n}"],"names":["formSearch","inputField","gallery","loader","SimpleLightbox","searchImages","event","name","showLoader","closeLoader","iziToast","url","response","images","addImages","error","html","hit"],"mappings":"wvBAaA,MAAMA,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE9B,IAAIC,EAAe,aAC9B,CAAC,aAAc,MACd,aAAc,IACd,IAAK,GACL,MAAO,GACP,eAAgB,GAChB,SAAU,EACjB,CAAO,EAEPJ,EAAW,iBAAiB,SAAUK,CAAY,EAElDF,EAAO,MAAM,QAAU,OAEvB,SAASE,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,IAAIC,EAAON,EAAW,MAMtB,GAJAC,EAAQ,UAAY,GAEpBM,IAEID,IAAS,GAAI,CACfE,IAEAC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,OACT,QACE,2EACF,aAAc,UACd,gBAAiB,UACjB,SAAU,UAChB,CAAK,EACD,MACD,CAUD,IAAIC,EAAM,4BARS,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGJ,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,IAGD,QAAQ,IAAII,CAAG,EAEf,MAAMA,CAAG,EACN,KAAKC,GAAY,CAEhB,GADAT,EAAO,MAAM,QAAU,OACnB,CAACS,EAAS,GACZ,MAAM,IAAI,MAAM,mBAAmB,EAGrC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAU,CACd,GAAIA,EAAO,KAAK,SAAW,EAAG,CAC5BJ,IAEAC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,OACT,QACE,2EACF,aAAc,UACd,gBAAiB,UACjB,SAAU,UACpB,CAAS,EACD,MACD,CAEDR,EAAQ,UAAYY,EAAUD,EAAO,IAAI,EACxB,IAAIT,EAAe,aACpC,CAAC,aAAc,MACd,aAAc,IACd,IAAK,GACL,MAAO,GACP,eAAgB,GAChB,SAAU,EACjB,CAAO,EACQ,QAAO,CACtB,CAAK,EACA,MAAMW,GACLL,EAAS,MAAM,CACb,MAAO,QACP,QAAS,OACT,QAASK,EACT,aAAc,UACd,gBAAiB,UACjB,SAAU,UAClB,CAAO,CACP,CACA,CAEA,SAASD,EAAUD,EAAQ,CACzB,OAAOA,EAAO,OAAO,CAACG,EAAMC,IAAQD,EAAO;AAAA;AAAA,oCAETC,EAAI;AAAA,yCACCA,EAAI,qBAAqBA,EAAI;AAAA;AAAA;AAAA;AAAA;AAAA,iDAKrBA,EAAI;AAAA;AAAA;AAAA;AAAA,iDAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,iDAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,iDAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,IAIhD,EAAE,CACP,CAEA,SAAST,GAAa,CACpBL,EAAO,MAAM,QAAU,OACzB,CACA,SAASM,GAAc,CACrBN,EAAO,MAAM,QAAU,MACzB"}