{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["\"use strict\";\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst formSearch = document.querySelector('.form');\nconst inputField = document.querySelector('input');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nformSearch.addEventListener(\"submit\", searchImages);\n\nfunction searchImages(event){\n  event.preventDefault();\n  let name = inputField.value;\n\n  let searchParams = new URLSearchParams({\n    key: '41835868-9a86cd0490c6a90cb9e6f50a0',\n    q: name,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true\n  });\n\nlet url = `https://pixabay.com/api/?${searchParams}`\n\n    fetch(url)\n    .then((response) => {\n      if(!response.ok) {\n        throw new Error(\n         'Sorry, there are no images matching your search query. Please try again!',\n      ); \n      }\n      return response.json();\n    })\n    .then((value) => {\n      let {total, totalHits, hits} = value;\n       return {total, totalHits, hits} = value;     \n    })\n    .then(({hits}) => { \n    const renderImg = hits.reduce((html, hit) => html + `\n     <li class=\"gallery-list\">\n        <a class=\"gallery-link\" href=\"${hit.largeImageURL}\">\n          <img class =\"gallery-image\" src =${hit.webformatURL} alt =${hit.tags} />\n        </>\n        <span class=\"gallery-wrapper\">\n          <span class=\"gallery-tit-wrap\">  \n            <span class=\"gallery-subtitle\"><b>Likes</b></span>\n            <span class=\"gallery-sub-title-number\">${hit.likes}</span>\n          </span>\n          <span class=\"gallery-tit-wrap\">  \n            <span class=\"gallery-subtitle\"><b>Views</b></span>\n            <span class=\"gallery-sub-title-number\">${hit.views}</span>\n          </span>\n          <span class=\"gallery-tit-wrap\">  \n            <span class=\"gallery-subtitle\"><b>Comments</b></span>\n            <span class=\"gallery-sub-title-number\">${hit.comments}</span>\n          </span>\n          <span class=\"gallery-tit-wrap\">  \n            <span class=\"gallery-subtitle\"><b>Downloads</b></span>\n            <span class=\"gallery-sub-title-number\">${hit.downloads}</span>\n          </span>\n        </span>\n     </li> \n      `, \"\");\n      gallery.innerHTML = renderImg;\n\n      const lightbox = new SimpleLightbox('.gallery a', \n      {captionsData: \"alt\",\n       captionDelay: 250,\n       nav: true,\n       close: true,\n       enableKeyboard: true,\n       docClose: true,\n      });\n\n    lightbox.refresh();\n    })\n    .catch((error) =>{\n      iziToast.error({\n        position: 'bottomCenter',\n        title: 'Error',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n    });\n    })\n\n} \n\n\n\n"],"names":["formSearch","inputField","gallery","searchImages","event","name","url","response","value","hits","renderImg","html","hit","SimpleLightbox","error","iziToast"],"mappings":"6vBAaA,MAAMA,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAU,SAAS,cAAc,UAAU,EAClC,SAAS,cAAc,SAAS,EAE/CF,EAAW,iBAAiB,SAAUG,CAAY,EAElD,SAASA,EAAaC,EAAM,CAC1BA,EAAM,eAAc,EACpB,IAAIC,EAAOJ,EAAW,MAUpBK,EAAM,4BARW,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,IAIC,MAAMC,CAAG,EACR,KAAMC,GAAa,CAClB,GAAG,CAACA,EAAS,GACX,MAAM,IAAI,MACT,0EACT,EAEM,OAAOA,EAAS,MACtB,CAAK,EACA,KAAMC,GAE8BA,CACpC,EACA,KAAK,CAAC,CAAC,KAAAC,CAAI,IAAM,CAClB,MAAMC,EAAYD,EAAK,OAAO,CAACE,EAAMC,IAAQD,EAAO;AAAA;AAAA,wCAEhBC,EAAI;AAAA,6CACCA,EAAI,qBAAqBA,EAAI;AAAA;AAAA;AAAA;AAAA;AAAA,qDAKrBA,EAAI;AAAA;AAAA;AAAA;AAAA,qDAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,qDAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,qDAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,QAIhD,EAAE,EACLV,EAAQ,UAAYQ,EAEH,IAAIG,EAAe,aACpC,CAAC,aAAc,MACd,aAAc,IACd,IAAK,GACL,MAAO,GACP,eAAgB,GAChB,SAAU,EACjB,CAAO,EAEM,QAAO,CACpB,CAAK,EACA,MAAOC,GAAS,CACfC,EAAS,MAAM,CACb,SAAU,eACV,MAAO,QACP,QAAS,0EACjB,CAAK,CACL,CAAK,CAEL"}