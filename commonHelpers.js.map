{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst formSearch = document.querySelector('.form');\nconst inputField = document.querySelector('input');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.gallery a', \n      {captionsData: \"alt\",\n       captionDelay: 250,\n       nav: true,\n       close: true,\n       enableKeyboard: true,\n       docClose: true,\n      });\n\nformSearch.addEventListener(\"submit\", searchImages);\n\nloader.style.display = 'none';\n\nfunction searchImages(event){\n  event.preventDefault();\n  let name = inputField.value;\n  if(name !== \"\") {\n    loader.style.display = 'block';\n  }\n \n  let searchParams = new URLSearchParams({\n    key: '41835868-9a86cd0490c6a90cb9e6f50a0',\n    q: name,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true\n  });\n\nlet url = `https://pixabay.com/api/?${searchParams}`\n  console.log(url);\n    fetch(url)\n   .then(response => {\n      loader.style.display = 'none';\n      if (!response.ok) {\n        throw new Error('Request is not ok');\n      }\n\n      return response.json();\n    })\n    .then((value) => {\n      let {total, totalHits, hits} = value;\n       return {total, totalHits, hits} = value;     \n    })\n    \n    .then(({hits}) => { \n    const renderImg = hits.reduce((html, hit) => html + `\n     <li class=\"gallery-list\">\n        <a class=\"gallery-link\" href=\"${hit.largeImageURL}\">\n          <img class =\"gallery-image\" src =${hit.webformatURL} alt =${hit.tags} />\n        </a>\n        <span class=\"gallery-wrapper\">\n          <span class=\"gallery-tit-wrap\">  \n            <span class=\"gallery-subtitle\"><b>Likes</b></span>\n            <span class=\"gallery-sub-title-number\">${hit.likes}</span>\n          </span>\n          <span class=\"gallery-tit-wrap\">  \n            <span class=\"gallery-subtitle\"><b>Views</b></span>\n            <span class=\"gallery-sub-title-number\">${hit.views}</span>\n          </span>\n          <span class=\"gallery-tit-wrap\">  \n            <span class=\"gallery-subtitle\"><b>Comments</b></span>\n            <span class=\"gallery-sub-title-number\">${hit.comments}</span>\n          </span>\n          <span class=\"gallery-tit-wrap\">  \n            <span class=\"gallery-subtitle\"><b>Downloads</b></span>\n            <span class=\"gallery-sub-title-number\">${hit.downloads}</span>\n          </span>\n        </span>\n     </li> \n      `, \"\");\n      gallery.innerHTML = renderImg;\n\n    lightbox.refresh();\n    })\n    .catch((error) =>{\n      iziToast.error({\n        position: 'bottomCenter',\n        title: 'Error',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n    });\n    })\n    formSearch.reset();\n} \n\n\n"],"names":["formSearch","inputField","gallery","loader","lightbox","SimpleLightbox","searchImages","event","name","url","response","value","hits","renderImg","html","hit","error","iziToast"],"mappings":"6vBAaA,MAAMA,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAC9B,CAAC,aAAc,MACd,aAAc,IACd,IAAK,GACL,MAAO,GACP,eAAgB,GAChB,SAAU,EACjB,CAAO,EAEPL,EAAW,iBAAiB,SAAUM,CAAY,EAElDH,EAAO,MAAM,QAAU,OAEvB,SAASG,EAAaC,EAAM,CAC1BA,EAAM,eAAc,EACpB,IAAIC,EAAOP,EAAW,MACnBO,IAAS,KACVL,EAAO,MAAM,QAAU,SAW3B,IAAIM,EAAM,4BARW,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,IAGD,QAAQ,IAAIC,CAAG,EACb,MAAMA,CAAG,EACT,KAAKC,GAAY,CAEf,GADAP,EAAO,MAAM,QAAU,OACnB,CAACO,EAAS,GACZ,MAAM,IAAI,MAAM,mBAAmB,EAGrC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAMC,GAE8BA,CACpC,EAEA,KAAK,CAAC,CAAC,KAAAC,CAAI,IAAM,CAClB,MAAMC,EAAYD,EAAK,OAAO,CAACE,EAAMC,IAAQD,EAAO;AAAA;AAAA,wCAEhBC,EAAI;AAAA,6CACCA,EAAI,qBAAqBA,EAAI;AAAA;AAAA;AAAA;AAAA;AAAA,qDAKrBA,EAAI;AAAA;AAAA;AAAA;AAAA,qDAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,qDAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,qDAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,QAIhD,EAAE,EACLb,EAAQ,UAAYW,EAEtBT,EAAS,QAAO,CACpB,CAAK,EACA,MAAOY,GAAS,CACfC,EAAS,MAAM,CACb,SAAU,eACV,MAAO,QACP,QAAS,0EACjB,CAAK,CACL,CAAK,EACDjB,EAAW,MAAK,CACpB"}